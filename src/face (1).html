<html>

<head>
</head>

<body style="background-color:lightgreen">
<div id="canvas-container">
    <canvas id="face_canvas" width="300" height="300" style="display: block;margin-left: auto;margin-right: auto; border-radius:15px"></canvas>
</div>

<script>
// grab the canvas and context
var canvas = document.getElementById('face_canvas');
var ctx = canvas.getContext('2d');

var loopCount = 0;
var eyeCenter = 100;
var pupilCenter = 150
var shiftRange = 35;

var leftEyeCenterX = eyeCenter;
var rightEyeCenterX = canvas.width - eyeCenter;

var leftEyeX = leftEyeCenterX;
var rightEyeY = rightEyeCenterX;

var leftPupilCenterX = pupilCenter 
var rightPupilCenterX = canvas.width - pupilCenter;

var leftPupilX = leftPupilCenterX;
var rightPupilX = rightPupilCenterX;


function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function clearTheCanvas(){
    ctx.clearRect(0, 0, canvas.width, canvas.height);
}


function drawEye(x, y, isBlinking){
    if (isBlinking)
    {
        rec_width = 45 
        rec_height = Math.PI 
    }
    else {
        rec_width = 45
        rec_height = 0         
    }

    ctx.beginPath();
    ctx.arc(x-35, y+40, rec_width,rec_height, 2*Math.PI);
    ctx.fillStyle = "white"; 
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(x-35, y+40, 10,0, 2*Math.PI);
    ctx.fillStyle = "black"; 
    ctx.fill();
    ctx.stroke();

}

function animate() {
    
    
    // clear the canvas, so we can redraw everything in their new positions
    clearTheCanvas();

    // BEGIN DRAWING
    
    // SET CANVAS BACKGROUND COLOUR
    ctx.fillStyle = "yellow";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Every 180 updates: blink
    if (loopCount % 120 == 0) {
        var isBlinking = true;
    }
    else {
        var isBlinking = false;
    }

    // every 60 updates: move the eyes
    if (loopCount % 60 == 0) {
        // Generate a random integer to shift the eyes from the centre
        xShift = getRandomInt(0, shiftRange)
        leftEyeX = leftEyeCenterX + xShift;
        rightEyeX = rightEyeCenterX + xShift;
    }

    // every 60 updates: move the pupils
    if (loopCount % 60 == 0) {
        // Generate a random integer to shift the pupils from the centre
        yShift = getRandomInt(0, shiftRange)
        leftPupilX = leftPupilCenterX+ yShift;
        rightPupilX = rightPupilCenterX + yShift;
    }


    

    // DRAW FACE FEATURES
    // left eye
    drawEye(leftEyeX, 50, isBlinking);

    // right eye
    drawEye(rightEyeX, 50, isBlinking);

    

   

    
    loopCount++;
    // redraw in 30 milliseconds (0.03 seconds)
    setTimeout(animate, 30);
}

// call the animate function manually for the first time
animate();
</script>

</html>